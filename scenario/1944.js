var WWII1944Owners = `
00000000000000000000000000001110000111111111100010002200222222222222222222222222222222222|
00000000000000000000000000000000000011111111001100000200222222222222222222222222222222222|
00000000000000000000000000000000010001111111001100022220222222222222222222222222222222222|
00000000000000000000000000000001110001111111001000011121222222222222222222222222222222222|
00000000000000000000000000000011110000111111000000011111222222222222222222222222222222222|
00000000000000000000000000000011111000111111000000011112222222222222222222222222222222222|
00000000000000000000000000000011110000111000000000022222222222222222222222222222222222222|
00000000000000000000000000000011111111100000000000022222222222222222222222222222222222222|
00000000000000000000000000000001111100000000000000022222222222222222222222222222222222222|
00000000000000000000000000000001111100000000001002222222222222222222222222222222222222222|
00000000000000000000000000000001110000000000111002222222222222222222222222222222222222222|
00000000000000000000000000000001111111111111111122222222222222222222222222222222222222222|
00000000000000000000000000000001111111111111111112222222222222222222222222222222222222222|
00000000000000000000000000000111111111111111111112222222222222222222222222222222222222222|
00000000000000000000000000111111111111111111111122222222222222222222222222222222222222222|
00000000000000000000000000111111111111111111111222222222222222222222222222222222222222222|
00000000000000000000000001111111111111111111112222222222222222222222222222222222222222222|
00000000000000000000000011111111111111111111122222222222222222222222222222222222222222222|
00000000000000000000000111000111111111111111112222222222222222222222222222222222222222222|
00000000000000000000011110000011111111111111112222222222222222222222222222222222222222222|
00000000000000000000000000000011111111111111112222222222222222222222222222222222222222222|
00000000000000000000000000000011111111111111122222222222222222222222222222222222222222222|
00000000000000000000000000000111111111111111122222222222222222222222222222222222222222222|
00000000000000000000000000000011111111111111112222222222222222222222222222222222222222222|
00000000000000000000000000000011111111111111111222222222222222222222222222222222222222222|
00000000000000000000000000000011111111111111111111222222222222222222222222222222222222222|
00000000000000000000000000000011111111111111111111122222222222222222222222222222222222222|
00000000000000000000000000000000111111111111111112222222222222222222222222222222222222222|
00000000000000000000000000000000111111111111111112222222222222222222222222222222222222222|
00000000000000000000000000000000111111111111111111222222222222222222222222222222222222222|
00000000000000000000000000000000111111111111111112222222222222222222222222220222222222222|
00000000000000011000000000000011111111111111111122222222222222222222222220000022222222222|
00000000000000011000000000000111111111111111111222222222222222222200000200000222222222222|
00000000000000011000000000000111111111011111112222222222222222222000022222222222222222222|
00000000000000011000000000001111111111001111111222222222222222222000000222002222222222222|
00000000000000110000000000001111111111000111111122222222222222220000002200000022222222222|
00000000000000000000000000001110000011000111111112222222222222200000000000000000022222222|
00000000000000000000000000001000000000000001111111122222222222200000000000000000022222222|
00000000000000000000000000000000000000000000111111122222222222000000000000000000000002222|
00000000000000000000000000000000000000000000001111222222222222000000000000000000000000000|
00000000000000000000000000000000000000000000000011122222222222000000000000000000000000000|
00000000000000000000000000000000000000000000000011122222222222000000000000000000000000000|
00000000000000000000000000000000000000000000000011112222222220000000000000000000000000000|
00000000000000000000000000000000000000000000000011111222200000000000000000000000000000000|
00000000000000000000000000000000000000000000000001000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000|`
.replace(/\|/g, '').replace(/^\n/, '').replace(/\n$/, '')
  .split('\n');


var EU1944Terrains = `
@@@@@mmf@fmmm@@@@@@@@@@@@@@@  p@@@@         c@@@ @@@ff@@fffffffCfffffffffffffffffffffffff|
@@@@@mf@fmmmmmm@@@@@@@@@@@@@@@@@@@@@        @@  @@@@@C@@cff*****fffffffffff  f ff  f ffff|
@@@@@fmmmmmmmmf@@@@@@@@@@@@@@@@@@ @@@       @@  @@@ff**@fff*cfffff ff fff  fff    fffff  |
@@@@@@@mmmmmmff@@@@@@@@@@@@@@@@c**@@@c      @@ @@@@fff*ff***fffffff ffff  ****c  fff fff |
@@@@@@@mmmcmmc@@@@@@@@@@@@@@@@  * @@@@      @@@@@@@fff****ffff fffc********ff          ff|
@@@@@@p@@ffmm*@@@@@@@@@@p@@@@@  *  @@@    cp@@@@@@@ ffcfff  ffffffffffffffffffff  ff ffff|
@@@@@@@@@fmm**@@@@@@@@@@@@@@@@ ** @@@@   @@@@@@@@@@fff*ffffffrrrrrrrrff fffffffffffffffff|
@@@@@@@@@@  *  @@@@@@@@@@@@@@@p*   c r @@@@@@@@@@@@fff*ffffffrf fff rrff ffff  ffffffrrrr|
@@@@@@@@@@m *m  @@@@@@@@@@@@@@@*    @@@@@@@@@@@@@@@******cffrrfff  ffrrfff  Z  fffrrrrfff|
@@@@fm c@@ m*mm @@@@@@@@@@@@@@@**   @@@@@@@@@@ @@*cf fffffffrf f   f frrff  *  rrrrfffff |
@@@@fm   @@@*mmm @@@@@@@@@@@@@@ * @@@@@@@@@@f  @@* f  ffrrrrrf fc******rrrrrrrrrfff fff f|
@fffff   @@m***  p@@@@@@@@@@@@@ * c    @@  ff*cr**  f fffffffff** f fffffffff*fff        |
@mmfm   @@@@@mC m @@@@@@@@@@@@@r***        ff*f rff   ff ff*c***fff ffffff ff*fff       c|
@        @ @Zm**  @@@@@@@@@@@ prr C*f     ff * rr       ff**f  frrrffffffffff*f          |
@@  mff @@ mm  *  p@@@@@@@      rrr****Z  ff *rr      **c**f frrr ffff ff ****           |
@@   fcp@@  m  ***Z p@@@@@       f**fff*fff****C****c**    ff r fffffc***c*ffff          |
@   ff  @@@ m    *   @@@@  c**c   *rrmm**Z**f rrrff          frfffffffffff*ffff          |
@m mff@@@ mm  rr Zrp@@@@ rrr  ****cmrrrmf *f  ffrr           frrffff fffff*f         fff |
@@ p@@@@@  m   rrrr@@@@    rrrmm  * m rf f*ff  f rrr      c  ffrrf ffff   **   ffff      |
@@@@@@@@@@@C******p@@ p   fffrmmm** mmrr  *        rrr**********rrf    f   ***           |
@@@@@@@@@@ *    p@@@@    cfffrrr** m   rrrrmm  f c**fr        f******c*ff    *f   f      |
@@@@@@@@@  p@@@@@@@@     m****c*m  m  fmmmrmm   f  * r        f  frr  ****f***c      fff |
@@@@@@@@pC@@@@@@@@@     f**fmrrr mm  fmm Zr  mm    **rc        c f rr   ff    **   ffff  |
@@@@@@@@@@@@@@@ @@       *fmmrmfff   ffm  r  fmfff * rrrr    f   f  rrf   f  f ********c |
@@@@@@@@@@@@@@@ p    C**** m rrfmf mm mfm*r  mmmmff*ffffrrrrr        rr         f        |
@@@@@@@@@@  f       **f*  fffmrfmrrrrrrf**m mfmmmmm*mmmmmfffrr fff    rrr f  f           |
@@@@@@@@  cff      **ff**c ffmrmmrfc  rf*fffmmmmmmm*mmmmmmcffrrf        r           f    |
@@@@@@@@@@ffff   *** fmm  ffm rrrrfff rm*ffffff  ***m     mmmfr      ***r**Z             |
@@@@@@@@@@@@   c**  f m  ffmm  mmmmmmmrrCffff    *        m mfr c***** rr  **    f**Z    |
@@@@@@@@@@@@@p   * rrrrr f     mmmmmm****rmff    C         mmmrr      rr  f **c****      |
@@@@@@@@@@@@@@rrr*rr   rr     mmmmm***mmmrrf     *   mmm  fmmffr    rrr*    @            |
@@@@@@@@@@@@@@@  **  f cr f rrrfmmm*cmmm fr    ***   fff  fmff rr  @r  * @@@@@       fff |
@@@@@@@@@@@@@@@f  *fmf  r  rrmmfffm*f***ffr c***    mfffff m    r @@@@@r@@@@@       fff  |
@@@@@@@@@@@@@@@fff*mmfmfrmrrrmmc ff*fZ@***r          mffmfmmc rrr@@@@  *ff r             |
@@@@@@@@@@@@@@@fc****fffmrrmmm rrrr*  @@ffrrrmm  m    mmmmm**rr  @@@@@@cff@@   Cf  f  f  |
@@@@@@@@@@@@@@fffffm*mfmrrfmm*******r @@@ mfrf       mmm  **rrff@@@@@@Z @@@@@@     ff fff|
@@@@@@@@@@@@@mmff   **********f@@fm*rr@@@ Cfrrfc  m m     *rr f@@@@@@@@@@@@@@@@@@22mmmmmm|
@@@@@@@@@@@@@mm    fcmmfrcmcm@@@@@m*mm c@@@  rr  mfff     *    @@@@@@@@@@@@@@@@@@  mmcmmm|
@@@@@@@@@@@@@@@mmmmmmmm@@@mp@@@@f@f**mm @@@@pcrrrrr f********p@@@@@@@@@@@@@@@@@@@@@@@ mmm|
@@@@@@@@@@@@@@@@@@mmmmm@@@@@@@@ff@@f**mm@@@@@@  ffrrrr  c     @@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@fp@@@fCfm  @@@@@@ fc**rrrm    f@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@fc@@@@pfmm  @@@@@ f  m crfffff @@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@r@@@@@ mfm c @@@ mm fmmrrrrrr@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ c@@@@@@@cmm   @@cfff m m @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ f@@@@@@@@fmm @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ f@@@@@@@@@fm @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@pf@@@@@@@@@@mc@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@m@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@c@fmrm@@@@@@@ f ff @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@p  mm@@@@@@@@@@r@@ c@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@@  p@@@@@d@@  c@@@@  c@@@@@@@@@@ffrr@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@@@  d  c         p@@@@@ @@@@@@@@@@ fc@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@@@@@@@@@@   dddddddddddd  @@@@@@@@@@@@@@@@@@@p@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@@@p@@@@@@  cdddmmmmmmmddddd @@dpd@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
@@@@@@@c      c  mmmmmmmmmmmmmmmdd c@@@@@@@@@@@@@@@@@@@@mpcm@@@@@@@@@mcp@@@@@@@@@@@@@@@@@|`
.replace(/\|/g, '').replace(/^\n/, '').replace(/\n$/, '')
  .split('\n');

function load1944Scenario() {
  clearData();
  // ============== map =================
  MAP_DATA = EU1944Terrains.map((x, row) => (x.split('').map((v, col) => {
    let o = parseInt(WWII1944Owners[row][col]);
    let slots = [];
    let terrain = '@';
    if (v == 'c'){
      terrain = 'U';
      slots = Array(1).fill('F');
    } else if (v == 'C') {
      terrain = 'U';
      slots = Array(25).fill('F');
    } else if (v == 'Z') {
      terrain = 'U';
      slots = Array(40).fill('F');
    } else if (v == 'p' || v == 'm' || v == ' ' || v == 'f' || v == 'd' || v == 'r' || v == '*') {
      terrain = v.toUpperCase();
    }
    if (!TERRAINS[terrain]) throw 'Not found ' + v;
    return {supply: 4, terrain: terrain, owner: o, slots: slots, divisions: [], pt: pt(row, col)}
  })));

  window.PORTS = [];
  PLAYERS.forEach(x => delete x._mapDataFlattened);

  // ============== players =================

  PLAYERS[0].color = "rgba(140, 193, 226, 0.2)";
  PLAYERS[0].generals = {"Generalissimo":{"Chiang Kai-Shek":{"desc":"President, Republic Of China","path":"scenario/ChineseGenerals/GeneralissimoChiangKaiShek.jpg","mod":{"o":1.1,"b":1.1,"s":1,"e":1.1},"selected":true},"Game Founder":{"desc":"Programmer","path":"scenario/ChineseGenerals/GeneralissimoSitanHuang.jpg","mod":{"o":0.8,"b":1.4,"s":1.2,"e":0.8}}},"Field Marshal":{"Hu Zong-Nan":{"desc":"Eagle of the Northwest","path":"scenario/ChineseGenerals/FieldMarshalHuZongNan.jpg","mod":{"o":1.3,"b":0.9,"s":0.8,"e":0.9},"selected":true},"Li Zong-ren":{"desc":"Vice President, Republic Of China","path":"scenario/ChineseGenerals/FieldMarshalLiZongRen.jpg","mod":{"o":1,"b":1.3,"s":0.8,"e":1},"selected":false},"Gao Zhi-hang":{"desc":"Modern Warfare Expert","mod":{"o":0.8,"b":1.3,"s":1.3,"e":0.7},"path":"scenario/ChineseGenerals/FieldMarshalGaoZhihang.jpg","selected":false},"Zhu De":{"desc":"Pioneers of Liberation","mod":{"o":1.3,"b":1.2,"s":0.9,"e":0.8},"path":"scenario/ChineseGenerals/FieldMarshalZhuDe.jpg","selected":false},"Xiao Yi-Su":{"desc":"Minister of National Defense, Republic Of China","mod":{"o":1,"b":0.8,"s":0.7,"e":1.5},"path":"scenario/ChineseGenerals/FieldMarshalXiaoYiSu.jpg"}}};
  PLAYERS[0].manpower = 11500000;
  PLAYERS[0].casualties = 8500000;
  PLAYERS[0].divisionMen = 0;
  PLAYERS[0].factories = 0;
  PLAYERS[0].growthRate = 0.01; //.0029563933
  PLAYERS[1].color = "rgba(96, 96, 96, 0.2)";
  PLAYERS[1].manpower = 20000000;
  PLAYERS[1].casualties = 5100000;
  PLAYERS[1].divisionMen = 0;
  PLAYERS[1].factories = 0;
  // PLAYERS[1].growthRate = 482790/67349000; // 0.0071684806
  PLAYERS[1].growthRate = 0.01;

  PLAYERS[0].light = 1000;
  PLAYERS[0].heavy = 2000;
  PLAYERS[1].light = -1000;
  PLAYERS[1].heavy = -1000;

  PLAYERS[1].generals = {"Generalissimo":{"Chiang Kai-Shek":{"desc":"President, Republic Of China","path":"scenario/ChineseGenerals/GeneralissimoChiangKaiShek.jpg","mod":{"o":1.1,"b":1.1,"s":1,"e":1.1},"selected":false},"Game Founder":{"desc":"Programmer","path":"scenario/ChineseGenerals/GeneralissimoSitanHuang.jpg","mod":{"o":0.8,"b":1.4,"s":1.2,"e":0.8},"selected":true}},"Field Marshal":{"Hu Zong-Nan":{"desc":"Eagle of the Northwest","path":"scenario/ChineseGenerals/FieldMarshalHuZongNan.jpg","mod":{"o":1.3,"b":0.9,"s":0.8,"e":0.9},"selected":false},"Li Zong-ren":{"desc":"Vice President, Republic Of China","path":"scenario/ChineseGenerals/FieldMarshalLiZongRen.jpg","mod":{"o":1,"b":1.3,"s":0.8,"e":1},"selected":true},"Gao Zhi-hang":{"desc":"Modern Warfare Expert","mod":{"o":0.8,"b":1.3,"s":1.3,"e":0.7},"path":"scenario/ChineseGenerals/FieldMarshalGaoZhihang.jpg","selected":true},"Zhu De":{"desc":"Pioneers of Liberation","mod":{"o":1.3,"b":1.2,"s":0.9,"e":0.8},"path":"scenario/ChineseGenerals/FieldMarshalZhuDe.jpg","selected":true},"Xiao Yi-Su":{"desc":"Minister of National Defense, Republic Of China","mod":{"o":1,"b":0.8,"s":0.7,"e":1.5},"path":"scenario/ChineseGenerals/FieldMarshalXiaoYiSu.jpg"}}};
  PLAYERS[1].sumAllGeneralTraits;

  window.p3 = PLAYERS[2] || new Player();
  p3.color = 'rgba(150, 0, 0, 0.2)';
  p3.manpower = 14000000;
  p3.casualties = 8000000;
  p3.growthRate = 2012000/162039470; // 0.01241672785
  p3.light = 1000;
  p3.factories = 0;
  p3.heavy = 2000;
  p3.factoryInLight = 1;
  p3.generals = {"Generalissimo":{"Chiang Kai-Shek":{"desc":"President, Republic Of China","path":"scenario/ChineseGenerals/GeneralissimoChiangKaiShek.jpg","mod":{"o":1.1,"b":1.1,"s":1,"e":1.1},"selected":true},"Game Founder":{"desc":"Programmer","path":"scenario/ChineseGenerals/GeneralissimoSitanHuang.jpg","mod":{"o":0.8,"b":1.4,"s":1.2,"e":0.8},"selected":false}},"Field Marshal":{"Hu Zong-Nan":{"desc":"Eagle of the Northwest","path":"scenario/ChineseGenerals/FieldMarshalHuZongNan.jpg","mod":{"o":1.3,"b":0.9,"s":0.8,"e":0.9},"selected":true},"Li Zong-ren":{"desc":"Vice President, Republic Of China","path":"scenario/ChineseGenerals/FieldMarshalLiZongRen.jpg","mod":{"o":1,"b":1.3,"s":0.8,"e":1},"selected":false},"Gao Zhi-hang":{"desc":"Modern Warfare Expert","mod":{"o":0.8,"b":1.3,"s":1.3,"e":0.7},"path":"scenario/ChineseGenerals/FieldMarshalGaoZhihang.jpg","selected":false},"Zhu De":{"desc":"Pioneers of Liberation","mod":{"o":1.3,"b":1.2,"s":0.9,"e":0.8},"path":"scenario/ChineseGenerals/FieldMarshalZhuDe.jpg"},"Xiao Yi-Su":{"desc":"Minister of National Defense, Republic Of China","mod":{"o":1,"b":0.8,"s":0.7,"e":1.5},"path":"scenario/ChineseGenerals/FieldMarshalXiaoYiSu.jpg","selected":true}}};
  p3.sumAllGeneralTraits;

  // ============== military =================

  let british = new Template(16100, 24, 12, 'Division', 12, 8);
  let american = new Template(14600, 18, 16, 'US Infantry Division', 9, 8);
  let german = new Template(16300, 24, 12, 'Infanterie-Division', 12, 6);
  let germanMilitia = new Template(9300, 10, 10, 'Militia Division', 4, 2);
  let italian = new Template(8900, 16, 6, 'Intalian Infantry Division', 8, 3);
  let hungarian = new Template(8900, 16, 6, 'Hungarian Infantry Division', 8, 3);
  let romanian = new Template(8900, 16, 6, 'Romanian Infantry Division', 8, 3);
  let germanPanzer = new Template(17950, 6, 40, 'Panzer Corps', 3, 20);
  let soviet = new Template(14100, 18, 14, 'Rifle Division', 9, 6);
  let sovietTank = new Template(13100, 6, 24, 'Tank Division', 3, 12);
  let sovietMilitia = new Template(12000, 8, 2, 'Militia Division', 0.1, 0.1);

  PLAYERS[0].savedTemplates = [british.deepClone(), american.deepClone()];
  PLAYERS[1].savedTemplates = [german.deepClone(), germanMilitia.deepClone(), italian.deepClone(), germanPanzer.deepClone()];
  PLAYERS[2].savedTemplates = [soviet.deepClone(), sovietMilitia.deepClone(), sovietTank.deepClone()];

  let british_i = 0;
  let german_i = 0;
  let soviet_i = 0;

  MAP_DATA.forEach((x, row) => (x.forEach((v, col) => {
    v.supply = 4;
    if (v.terrain == '@') return;
    if (v.terrain == 'P')
      PORTS.push(pt(row, col));
    if (v.owner == 0) {
      let type = Math.random() < 0.7 ? british : american;
      if (v.terrain == 'P' || v.terrain == 'U')
        v.divisions = Array((Math.random() * 3).round() + 2).fill(0).map(() => (new Division(v.owner, ++british_i + 'th ' + type.defaultName, pt(row, col), type)));
      else if (v.pt.adjacentNotToPlayer(v.pt.owner) > 0)
        v.divisions = Array((Math.random() * 5).round() + 2).fill(0).map(() => (new Division(v.owner, ++british_i + 'th Greek Division', pt(row, col), soviet)));
      v.divisions.forEach(x => {x.skill = Math.random() * 2 + 1;x.morale = Math.random() * 0.5 + 0.8;x.men = (Math.random() * 0.2 + 0.8) * x.template.troop;});
    } else if (v.pt.adjacentNotToPlayer(v.pt.owner) > 0 || v.terrain == 'P' || v.terrain == 'U')
      if (v.owner == 1) {
        let type = Math.random() < 0.98 ? (Math.random() < 0.6 ? german : [germanMilitia, italian, hungarian, romanian].sample()) : germanPanzer;
        v.divisions = Array((Math.random() * 5).round() + 2).fill(0).map(() => (new Division(v.owner, ++german_i + 'th ' + type.defaultName, pt(row, col), type)));
        v.divisions.forEach(x => {x.skill = Math.random() * 4;x.entrench = Math.random() * 0.5 + 1.5;x.morale = Math.random();x.men = (Math.random() * 0.5 + 0.35) * x.template.troop;});
      } else if (v.owner == 2) {
        let type = Math.random() < 0.8 ? soviet : (Math.random() < 0.8 ? sovietTank : sovietMilitia);
        v.divisions = Array((Math.random() * 4).round() + 3).fill(0).map(() => (new Division(v.owner, ++soviet_i + 'th ' + type.defaultName, pt(row, col), type)));
        v.divisions.forEach(x => {x.skill = Math.random() * 3 + 1;x.men = (Math.random() * 0.5 + 0.5) * x.template.troop;});
      }

    v.divisions.forEach(x => x.supply = 4);
  })));

  pass();pass();pass();

  // ============= misc ==============
//  window.timestamp = -900241200; // 6/22/1941
  window.timestamp = -795657600; // 10/15/1944
  window.timeIncrement = 518400 / 2 + 2.16e+8; // 3 days

  reinitCanvas();
  updateInterfaceOnPass();

  diplomacy_change(PLAYERS[0].playerID, PLAYERS[2].playerID, {status: 'PACT', changeAfter: -694310400, changeValue: {status: 'WAR'}});
}
